{"version":3,"sources":["../../../src/basic/Accordion.js"],"names":["DefaultHeader","variables","context","theme","variable","styles","defaultHeader","props","headerStyle","backgroundColor","title","fontSize","expanded","expandedIcon","expandedIconStyle","color","icon","iconStyle","React","Component","DefaultContent","padding","contentStyle","content","AccordionSubItem","state","fadeAnim","Animated","Value","timing","toValue","duration","start","style","opacity","children","AccordionItem","setSelected","index","renderHeader","item","renderContent","Accordion","selected","undefined","setState","dataArray","borderColor","accordionBorderColor","borderWidth","String","bind","StyleSheet","create","flexDirection","justifyContent","alignItems"],"mappings":"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","file":"Accordion.js","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Animated,\n  TouchableWithoutFeedback,\n  FlatList,\n  StyleSheet,\n  View\n} from \"react-native\";\nimport { Text } from \"./Text\";\nimport { Icon } from \"./Icon\";\nimport variable from \"../theme/variables/platform\";\n\nclass DefaultHeader extends React.Component {\n  render() {\n    const variables = this.context.theme\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\n      : variable;\n    return (\n      <View\n        style={[\n          styles.defaultHeader,\n          this.props.headerStyle\n            ? this.props.headerStyle\n            : { backgroundColor: variables.headerStyle }\n        ]}\n      >\n        <Text> {this.props.title}</Text>\n        <Icon\n          style={[\n            { fontSize: 18 },\n            this.props.expanded\n              ? this.props.expandedIcon && this.props.expandedIconStyle\n                ? this.props.expandedIconStyle\n                : { color: variables.expandedIconStyle }\n              : this.props.icon && this.props.iconStyle\n                ? this.props.iconStyle\n                : { color: variables.iconStyle }\n          ]}\n          name={\n            this.props.expanded\n              ? this.props.expandedIcon\n                ? this.props.expandedIcon\n                : \"ios-arrow-up\"\n              : this.props.icon\n                ? this.props.icon\n                : \"ios-arrow-down\"\n          }\n        />\n      </View>\n    );\n  }\n}\n\nclass DefaultContent extends React.Component {\n  render() {\n    const variables = this.context.theme\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\n      : variable;\n    return (\n      <Text\n        style={[\n          { padding: 10 },\n          this.props.contentStyle\n            ? this.props.contentStyle\n            : { backgroundColor: variables.contentStyle }\n        ]}\n      >\n        {this.props.content}\n      </Text>\n    );\n  }\n}\n\nclass AccordionSubItem extends React.Component {\n  state = {\n    fadeAnim: new Animated.Value(0.3)\n  };\n  componentDidMount() {\n    Animated.timing(this.state.fadeAnim, {\n      toValue: 1,\n      duration: 500\n    }).start();\n  }\n  render() {\n    let { fadeAnim } = this.state;\n    return (\n      <Animated.View style={{ ...this.props.style, opacity: fadeAnim }}>\n        {this.props.children}\n      </Animated.View>\n    );\n  }\n}\n\nclass AccordionItem extends React.Component {\n  render() {\n    return (\n      <View>\n        <TouchableWithoutFeedback\n          onPress={() => this.props.setSelected(this.props.index)}\n        >\n          <View>\n            {this.props.renderHeader ? (\n              this.props.renderHeader(this.props.item.title)\n            ) : (\n              <DefaultHeader\n                title={this.props.item.title}\n                expanded={this.props.expanded}\n                headerStyle={this.props.headerStyle}\n                icon={this.props.icon}\n                iconStyle={this.props.iconStyle}\n                expandedIcon={this.props.expandedIcon}\n                expandedIconStyle={this.props.expandedIconStyle}\n              />\n            )}\n          </View>\n        </TouchableWithoutFeedback>\n        {this.props.expanded ? (\n          <AccordionSubItem>\n            {this.props.renderContent ? (\n              this.props.renderContent(this.props.item.content)\n            ) : (\n              <DefaultContent\n                content={this.props.item.content}\n                contentStyle={this.props.contentStyle}\n              />\n            )}\n          </AccordionSubItem>\n        ) : null}\n      </View>\n    );\n  }\n}\n\nexport class Accordion extends React.Component {\n  state = { selected: undefined };\n  setSelected(index) {\n    if (this.state.selected === index) {\n      this.setState({ selected: undefined });\n    } else {\n      this.setState({ selected: index });\n    }\n  }\n  render() {\n    const variables = this.context.theme\n      ? this.context.theme[\"@@shoutem.theme/themeStyle\"].variables\n      : variable;\n    return (\n      <FlatList\n        data={this.props.dataArray}\n        extraData={this.state}\n        style={[\n          {\n            borderColor: variables.accordionBorderColor,\n            borderWidth: variables.borderWidth\n          },\n          this.props.style\n        ]}\n        keyExtractor={(item, index) => String(index)}\n        renderItem={({ item, index }) => (\n          <AccordionItem\n            key={String(index)}\n            item={item}\n            expanded={this.state.selected === index}\n            index={index}\n            setSelected={this.setSelected.bind(this)}\n            headerStyle={this.props.headerStyle}\n            contentStyle={this.props.contentStyle}\n            renderHeader={this.props.renderHeader}\n            renderContent={this.props.renderContent}\n            icon={this.props.icon}\n            iconStyle={this.props.iconStyle}\n            expandedIcon={this.props.expandedIcon}\n            expandedIconStyle={this.props.expandedIconStyle}\n          />\n        )}\n        {...this.props}\n      />\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  defaultHeader: {\n    flexDirection: \"row\",\n    padding: 10,\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  }\n});\n"]}